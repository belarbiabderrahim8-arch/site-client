<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Passer une commande</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .animate-float {
      animation: float 3s ease-in-out infinite;
    }
    .animate-pulse-slow {
      animation: pulse 3s ease-in-out infinite;
    }
    .custom-shadow {
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
    .gradient-bg {
      background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 50%, #f0fdf4 100%);
      background-size: 200% 200%;
      animation: gradient 15s ease infinite;
    }
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .input-focus:focus {
      box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
    }
    .radio-card:hover {
      transform: translateY(-3px);
    }
    .radio-card {
      transition: all 0.3s ease;
    }
    .radio-card.selected {
      border-color: #10b981;
      background-color: #ecfdf5;
      transform: translateY(-3px);
    }
    .floating-label {
      position: absolute;
      left: 12px;
      top: -8px;
      font-size: 12px;
      background: white;
      padding: 0 4px;
      color: #10b981;
      font-weight: 500;
    }
    .form-group {
      position: relative;
      margin-bottom: 1.5rem;
    }
    .progress-step {
      transition: all 0.4s ease;
    }
    .progress-step.active {
      background-color: #10b981;
      color: white;
    }
    .progress-step.completed {
      background-color: #10b981;
      color: white;
    }
    .progress-step.completed::after {
      content: "\f00c";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
    }
  </style>
</head>
<body class="gradient-bg min-h-screen font-['Poppins'] p-4 md:p-10">
  <div class="max-w-3xl mx-auto bg-white rounded-2xl overflow-hidden custom-shadow transition-all duration-300 hover:shadow-xl">
    <header class="bg-gradient-to-r from-emerald-600 to-emerald-500 text-white p-8 text-center relative overflow-hidden">
      <div class="absolute -top-10 -right-10 w-32 h-32 rounded-full bg-emerald-400 opacity-20 animate-pulse-slow"></div>
      <div class="absolute -bottom-8 -left-8 w-40 h-40 rounded-full bg-emerald-300 opacity-20 animate-pulse-slow"></div>
      <div class="relative z-10">
        <div class="animate-float inline-block mb-4">
          <i class="fas fa-shopping-bag text-5xl"></i>
        </div>
        <h1 class="text-3xl font-bold mb-2">Passer une commande</h1>
        <p class="opacity-90">Remplissez le formulaire pour commander en toute simplicité</p>
      </div>
    </header>
    
    <div class="flex flex-col md:flex-row justify-between items-center px-8 py-4 bg-gray-50 border-b">
      <div class="flex items-center w-full md:w-auto mb-4 md:mb-0">
        <div class="progress-step completed w-8 h-8 rounded-full flex items-center justify-center font-bold">1</div>
        <span class="ml-2 font-medium text-emerald-600">Information</span>
      </div>
      <div class="h-1 w-full md:w-auto md:flex-1 mx-0 md:mx-4 bg-gray-200 relative">
        <div class="h-full bg-emerald-300 w-full md:w-0" id="progressBar"></div>
        <div class="absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full bg-emerald-600 flex items-center justify-center text-white text-xs animate-pulse-slow">
          <i class="fas fa-arrow-right"></i>
        </div>
      </div>
      <div class="flex items-center w-full md:w-auto mt-4 md:mt-0">
        <div class="progress-step w-8 h-8 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center font-bold">2</div>
        <span class="ml-2 font-medium text-gray-500">Confirmation</span>
      </div>
    </div>
    
    <div class="p-6 md:p-8">
      <form id="orderForm">
        <div class="mb-8">
          <h2 class="text-xl font-semibold text-gray-800 mb-6 pb-2 border-b border-gray-100 flex items-center">
            <i class="fas fa-user-circle mr-3 text-emerald-600"></i> Vos informations
          </h2>
          <div class="grid md:grid-cols-2 gap-6">
            <div class="form-group">
              <label for="customer" class="block text-gray-700 font-medium mb-2">Nom complet *</label>
              <div class="relative">
                <input type="text" id="customer" required
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-emerald-500 focus:outline-none input-focus transition pl-10"
                  placeholder="Ex: Jean Dupont">
                <i class="fas fa-user absolute left-3 top-3.5 text-gray-400"></i>
              </div>
            </div>
            <div class="form-group">
              <label for="phone" class="block text-gray-700 font-medium mb-2">Téléphone *</label>
              <div class="relative">
                <input type="tel" id="phone" required
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-emerald-500 focus:outline-none input-focus transition pl-10"
                  placeholder="Ex: 0555 00 00 00">
                <i class="fas fa-phone absolute left-3 top-3.5 text-gray-400"></i>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mb-8">
          <h2 class="text-xl font-semibold text-gray-800 mb-6 pb-2 border-b border-gray-100 flex items-center">
            <i class="fas fa-shopping-cart mr-3 text-emerald-600"></i> Détails de la commande
          </h2>
          <div class="grid md:grid-cols-2 gap-6">
            <div class="form-group">
              <label for="product" class="block text-gray-700 font-medium mb-2">Produit *</label>
              <div class="relative">
                <select id="product" required
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-emerald-500 focus:outline-none input-focus appearance-none transition pl-10">
                  <option value="">Sélectionner un produit</option>
                  <option value="Chaise en bois">Chaise en bois</option>
                  <option value="Table pliante">Table pliante</option>
                  <option value="Étagère métallique">Étagère métallique</option>
                  <option value="Autre">Autre (préciser)</option>
                </select>
                <i class="fas fa-box-open absolute left-3 top-3.5 text-gray-400"></i>
                <i class="fas fa-chevron-down absolute right-3 top-3.5 text-gray-400 pointer-events-none"></i>
              </div>
            </div>
            <div class="form-group">
              <label for="quantity" class="block text-gray-700 font-medium mb-2">Quantité *</label>
              <div class="relative">
                <input type="number" id="quantity" min="1" required
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-emerald-500 focus:outline-none input-focus transition pl-10"
                  placeholder="Ex: 1">
                <i class="fas fa-cubes absolute left-3 top-3.5 text-gray-400"></i>
              </div>
            </div>
          </div>
          <div id="otherProductGroup" class="hidden mt-6">
            <div class="form-group">
              <div class="relative">
                <input type="text" id="otherProduct"
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-emerald-500 focus:outline-none input-focus transition pl-10"
                  placeholder="Nom du produit">
                <span class="floating-label">Produit personnalisé</span>
                <i class="fas fa-pen absolute left-3 top-3.5 text-gray-400"></i>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mb-8">
          <h2 class="text-xl font-semibold text-gray-800 mb-6 pb-2 border-b border-gray-100 flex items-center">
            <i class="fas fa-truck mr-3 text-emerald-600"></i> Livraison
          </h2>
          <div class="grid md:grid-cols-2 gap-6">
            <div class="form-group">
              <label for="wilaya" class="block text-gray-700 font-medium mb-2">Wilaya *</label>
              <div class="relative">
                <select id="wilaya" required
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-emerald-500 focus:outline-none input-focus appearance-none transition pl-10">
                  <option value="">Sélectionner une wilaya</option>
                  <option value="01) أدرار">01) أدرار</option>
                  <option value="02) الشلف">02) الشلف</option>
                  <option value="03) الأغواط">03) الأغواط</option>
                  <option value="04) أم البواقي">04) أم البواقي</option>
                  <option value="05) باتنة">05) باتنة</option>
                  <option value="06) بجاية">06) بجاية</option>
                  <option value="07) بسكرة">07) بسكرة</option>
                  <option value="08) بشار">08) بشار</option>
                  <option value="09) البليدة">09) البليدة</option>
                  <option value="10) البويرة">10) البويرة</option>
                  <option value="11) تمنراست">11) تمنراست</option>
                  <option value="12) تبسة">12) تبسة</option>
                  <option value="13) تلمسان">13) تلمسان</option>
                  <option value="14) تيارت">14) تيارت</option>
                  <option value="15) تيزي وزو">15) تيزي وزو</option>
                  <option value="16) الجزائر العاصمة">16) الجزائر العاصمة</option>
                  <option value="17) الجلفة">17) الجلفة</option>
                  <option value="18) جيجل">18) جيجل</option>
                  <option value="19) سطيف">19) سطيف</option>
                  <option value="20) سعيدة">20) سعيدة</option>
                  <option value="21) سكيكدة">21) سكيكدة</option>
                  <option value="22) سيدي بلعباس">22) سيدي بلعباس</option>
                  <option value="23) عنابة">23) عنابة</option>
                  <option value="24) قالمة">24) قالمة</option>
                  <option value="25) قسنطينة">25) قسنطينة</option>
                  <option value="26) المدية">26) المدية</option>
                  <option value="27) مستغانم">27) مستغانم</option>
                  <option value="28) المسيلة">28) المسيلة</option>
                  <option value="29) معسكر">29) معسكر</option>
                  <option value="30) ورقلة">30) ورقلة</option>
                  <option value="31) وهران">31) وهران</option>
                  <option value="32) البيض">32) البيض</option>
                  <option value="33) إليزي">33) إليزي</option>
                  <option value="34) برج بوعريريج">34) برج بوعريريج</option>
                  <option value="35) بومرداس">35) بومرداس</option>
                  <option value="36) الطارف">36) الطارف</option>
                  <option value="37) تندوف">37) تندوف</option>
                  <option value="38) تيسمسيلت">38) تيسمسيلت</option>
                  <option value="39) الوادي">39) الوادي</option>
                  <option value="40) خنشلة">40) خنشلة</option>
                  <option value="41) سوق أهراس">41) سوق أهراس</option>
                  <option value="42) تيبازة">42) تيبازة</option>
                  <option value="43) ميلة">43) ميلة</option>
                  <option value="44) عين الدفلى">44) عين الدفلى</option>
                  <option value="45) النعامة">45) النعامة</option>
                  <option value="46) عين تموشنت">46) عين تموشنت</option>
                  <option value="47) غرداية">47) غرداية</option>
                  <option value="48) غليزان">48) غليزان</option>
                  <option value="49) تيميمون">49) تيميمون</option>
                  <option value="50) برج باجي مختار">50) برج باجي مختار</option>
                  <option value="51) أولاد جلال">51) أولاد جلال</option>
                  <option value="52) بني عباس">52) بني عباس</option>
                  <option value="53) عين صالح">53) عين صالح</option>
                  <option value="54) عين قزام">54) عين قزام</option>
                  <option value="55) تقرت">55) تقرت</option>
                  <option value="56) جانت">56) جانت</option>
                  <option value="57) المغير">57) المغير</option>
                  <option value="58) المنيعة">58) المنيعة</option>
                </select>
                <i class="fas fa-map-marker-alt absolute left-3 top-3.5 text-gray-400"></i>
                <i class="fas fa-chevron-down absolute right-3 top-3.5 text-gray-400 pointer-events-none"></i>
              </div>
            </div>
            <div class="form-group">
              <label for="address" class="block text-gray-700 font-medium mb-2">Adresse *</label>
              <div class="relative">
                <textarea id="address" rows="2" required
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-emerald-500 focus:outline-none input-focus transition pl-10"
                  placeholder="Ex: Rue des Martyrs"></textarea>
                <i class="fas fa-map-marker-alt absolute left-3 top-3.5 text-gray-400"></i>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mb-8">
          <h2 class="text-xl font-semibold text-gray-800 mb-6 pb-2 border-b border-gray-100 flex items-center">
            <i class="fas fa-credit-card mr-3 text-emerald-600"></i> Mode de paiement
          </h2>
          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <div class="flex items-center">
              <div class="w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mr-4">
                <i class="fas fa-home text-xl text-emerald-600"></i>
              </div>
              <div>
                <span class="font-medium text-gray-800">Paiement à domicile</span>
                <p class="text-sm text-gray-500">Espèces à la livraison</p>
              </div>
            </div>
          </div>
        </div>
        
        <button type="submit" class="w-full bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-700 hover:to-emerald-600 text-white font-bold py-4 px-6 rounded-xl transition duration-300 transform hover:-translate-y-1 shadow-lg hover:shadow-xl flex items-center justify-center group">
          <span class="group-hover:scale-110 transition-transform">
            <i class="fas fa-paper-plane mr-3"></i> Envoyer ma commande
          </span>
        </button>
      </form>
    </div>
    
    <footer class="bg-gray-50 p-6 text-center text-gray-600 text-sm border-t">
      <div class="flex justify-center space-x-6 mb-4">
        <a href="#" class="text-gray-500 hover:text-emerald-600 transition hover:scale-110 inline-block">
          <i class="fab fa-facebook-f text-lg"></i>
        </a>
        <a href="#" class="text-gray-500 hover:text-emerald-600 transition hover:scale-110 inline-block">
          <i class="fab fa-instagram text-lg"></i>
        </a>
        <a href="#" class="text-gray-500 hover:text-emerald-600 transition hover:scale-110 inline-block">
          <i class="fab fa-whatsapp text-lg"></i>
        </a>
        <a href="#" class="text-gray-500 hover:text-emerald-600 transition hover:scale-110 inline-block">
          <i class="fas fa-envelope text-lg"></i>
        </a>
      </div>
      <p class="mb-1">&copy; 2025 - Votre Entreprise. Tous droits réservés.</p>
      <p class="text-xs text-gray-400">Livraison dans toute l'Algérie</p>
    </footer>
  </div>

  <!-- Modal de confirmation -->
  <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden backdrop-blur-sm">
    <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4 text-center transform transition-all duration-300 scale-95 opacity-0" id="modalContent">
      <div class="w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce">
        <i class="fas fa-check-circle text-4xl text-emerald-600"></i>
      </div>
      <h3 class="text-2xl font-bold text-gray-800 mb-2">Commande confirmée !</h3>
      <p class="text-gray-600 mb-6" id="confirmationText"></p>
      <button id="closeModal" class="bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-700 hover:to-emerald-600 text-white font-medium py-2 px-8 rounded-lg transition transform hover:scale-105">
        Fermer
      </button>
    </div>
  </div>

  <script>
    // Animation for modal
    function showModal() {
      const modal = document.getElementById('successModal');
      const content = document.getElementById('modalContent');
      modal.classList.remove('hidden');
      setTimeout(() => {
        content.classList.remove('scale-95', 'opacity-0');
        content.classList.add('scale-100', 'opacity-100');
      }, 10);
    }
    
    function hideModal() {
      const modal = document.getElementById('successModal');
      const content = document.getElementById('modalContent');
      content.classList.remove('scale-100', 'opacity-100');
      content.classList.add('scale-95', 'opacity-0');
      setTimeout(() => {
        modal.classList.add('hidden');
      }, 300);
    }

    const productSelect = document.getElementById("product");
    const otherProductGroup = document.getElementById("otherProductGroup");

    productSelect.addEventListener("change", () => {
      otherProductGroup.classList.toggle("hidden", productSelect.value !== "Autre");
    });

    document.getElementById("orderForm").addEventListener("submit", function(e) {
      e.preventDefault();
      
      // Show loading state
      const submitBtn = this.querySelector('button[type="submit"]');
      const originalBtnContent = submitBtn.innerHTML;
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Traitement en cours...';
      
      // Animate progress bar
      document.getElementById("progressBar").classList.add("w-full");
      
      // Generate order ID
      let lastId = parseInt(localStorage.getItem("lastOrderId")) || 0;
      lastId += 1;
      const orderId = "CMD-" + lastId.toString().padStart(4, '0');
      localStorage.setItem("lastOrderId", lastId);

      const now = new Date();
      const selectedProduct = productSelect.value === "Autre" 
        ? document.getElementById("otherProduct").value.trim() || "Produit personnalisé"
        : productSelect.value;

      const paymentMethod = 'cash';
      const paymentLabels = {
        cash: 'Paiement à domicile'
      };

      const order = {
        id: orderId,
        date: now.toLocaleString('fr-FR'),
        customer: document.getElementById("customer").value.trim(),
        product: selectedProduct,
        quantity: document.getElementById("quantity").value,
        phone: document.getElementById("phone").value.trim(),
        wilaya: document.getElementById("wilaya").value,
        address: document.getElementById("address").value.trim() || "Non fournie",
        payment: paymentMethod
      };

      // Prepare confirmation message
      const confirmationText = `
        <div class="text-left">
          <p class="mb-4">Merci <span class="font-semibold text-emerald-600">${order.customer}</span> !</p>
          <p class="mb-4">Votre commande <span class="font-bold">#${order.id}</span> a été enregistrée avec succès.</p>
          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <div class="flex items-center mb-2">
              <i class="fas fa-box text-emerald-600 mr-2"></i>
              <span>${order.quantity} × ${order.product}</span>
            </div>
            <div class="flex items-center mb-2">
              <i class="fas fa-map-marker-alt text-emerald-600 mr-2"></i>
              <span>${order.wilaya}</span>
            </div>
            <div class="flex items-center">
              <i class="fas fa-home text-emerald-600 mr-2"></i>
              <span>${paymentLabels[paymentMethod]}</span>
            </div>
          </div>
          <p class="mt-4 text-sm text-gray-500">Nous vous contacterons sous peu pour confirmer votre commande.</p>
        </div>
      `;

      // Simulate API call (replace with actual fetch)
      setTimeout(() => {
        document.getElementById("confirmationText").innerHTML = confirmationText;
        showModal();
        this.reset();
        otherProductGroup.classList.add("hidden");
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalBtnContent;
        
        // In a real app, you would use fetch here
        /*
        fetch("YOUR_API_ENDPOINT", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(order)
        })
        .then(response => response.json())
        .then(data => {
          document.getElementById("confirmationText").innerHTML = confirmationText;
          showModal();
          this.reset();
          otherProductGroup.classList.add("hidden");
          submitBtn.disabled = false;
          submitBtn.innerHTML = originalBtnContent;
        })
        .catch(error => {
          console.error("Error:", error);
          submitBtn.disabled = false;
          submitBtn.innerHTML = originalBtnContent;
          alert("Une erreur s'est produite. Veuillez réessayer.");
        });
        */
      }, 1500);
    });

    document.getElementById("closeModal").addEventListener("click", () => {
      hideModal();
      document.getElementById("progressBar").classList.remove("w-full");
    });
    
    // Add floating labels to all form groups
    document.querySelectorAll('.form-group').forEach(group => {
      const input = group.querySelector('input, select, textarea');
      if (input) {
        input.addEventListener('focus', () => {
          group.classList.add('ring-2', 'ring-emerald-200', 'rounded-lg');
        });
        input.addEventListener('blur', () => {
          group.classList.remove('ring-2', 'ring-emerald-200', 'rounded-lg');
        });
      }
    });
  </script>
</body>
</html>